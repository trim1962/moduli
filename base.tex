\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{ifluatex}
\ifluatex
% Lua(La)TeX
\usepackage[italian]{babel}
%\usepackage{polyglossia}   
%\setmainlanguage[spelling=new,babelshorthands=true]{german}
\usepackage{fontspec}
\defaultfontfeatures{Ligatures=TeX}
\usepackage{unicode-math} 
\unimathsetup{math-style=TeX}
\setmainfont[Ligatures=TeX]{Constantia} 
\setsansfont{Calibri}
\setmonofont{Consolas}
\setmathrm{Cambria Math}
\setmathfont{Cambria Math}
\else
%default: pdf(La)TeX
\usepackage[italian]{babel}
\usepackage{lmodern} % load vector font
\usepackage[T1]{fontenc} % font encoding
\usepackage[utf8]{inputenc} % input encoding
\fi
\usepackage[babel=true]{microtype}
\usepackage{geometry}
\usepackage{textcomp}
\geometry{top=2cm,bottom=2cm,left=2cm,right=2cm}
