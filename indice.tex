%\usepackage{titletoc}
%\usepackage{textcase}
%%
%\contentsmargin{0pt}
%\titlecontents{todonotes}[0pc]{}{\makebox[6em][l]{\thecontentslabel}}{}{\hfill\MakeTextUppercase{\textbf{\thecontentspage}}}
%
%\titlecontents{table}[0pc]{}{\makebox[6em][l]{\thecontentslabel}}{}{\hfill\MakeTextUppercase{\textbf{\thecontentspage}}}
%
%\titlecontents{figure}[0pc]{}{\makebox[6em][l]{\thecontentslabel}}{}{\hfill\MakeTextUppercase{\textbf{\thecontentspage}}} 
%
%\titlecontents{chapter}[0pc]{\addvspace{7pt}}{\makebox[6em][l]{\textbf{Capitolo\nobs\thecontentslabel}}\textbf}{\textbf}{\hfill\MakeTextUppercase{\textbf{\thecontentspage}}\\[-.75em]\rule{\textwidth}{.4pt}}
%%
%\titlecontents{section}[0pc]{}{\makebox[6em][l]{\thecontentslabel}}{}{\hfill\MakeTextUppercase{\textbf{\thecontentspage}}\\[-.75em]}
%\titlecontents{subsection}[1pc]{}{\makebox[6em][l]{\thecontentslabel}}{}{\hfill\MakeTextUppercase{\textbf{\thecontentspage}}\\[-.75em]}
%%
%\titlecontents*{csection}[0pc]{}{\makebox[6em][l]{\thecontentslabel}}{}{\hfill\MakeTextUppercase{\textbf{\thecontentspage}}}
%\usepackage[calcwidth]{titlesec}
%\usepackage{changepage}
%\newlength\mylen
%\titleformat{\chapter}[display]
%{\Huge\normalfont\sffamily}{}{2pc}  
%{\setlength\mylen{0pt}%
%	\addtolength\mylen{\marginparwidth}%
%	\addtolength\mylen{\marginparsep}\raggedleft
%}
%[\vspace{-20pt}%
%{%
%	\begin{adjustwidth}{}{-\mylen}
%		\makebox[\linewidth][r]{%
%			\rule{\dimexpr\titlewidth+\mylen\relax}{0.4pt}%
%		}%
%	\end{adjustwidth}%
%}%
%]
%\titlespacing*{\chapter}{0pt}{1cm}{7cm}
%\titleformat{\section}
%{
%\vspace{.8ex}%
%{\large\normalfont\sffamily}}
%{\thesection.}{.5em}{}

\usepackage[explicit]{titlesec}
\usepackage{xcolor}
\definecolor{light-gray}{gray}{0.95}
\newlength\chapnumb
\setlength\chapnumb{3cm}

\titleformat{\chapter}[block] {
	\normalfont\sffamily}{}{0pt} {
	\parbox[b]{\chapnumb}{
		\fontsize{120}{110}\selectfont\color{gray}\thechapter}
	\parbox[b]{\dimexpr\textwidth-\chapnumb\relax}{
		\raggedleft
		\hfill{\LARGE#1}\\
		\rule{\dimexpr\textwidth-\chapnumb\relax}{0.4pt}
	}
}

\titleformat{name=\chapter,numberless}[block]
{\normalfont\sffamily}{}{0pt}
{\parbox[b]{\chapnumb}{%
		\mbox{}}%
	\parbox[b]{\dimexpr\textwidth-\chapnumb\relax}{%
		\raggedleft%
		\hfill{\LARGE#1}\\
		\rule{\dimexpr\textwidth-\chapnumb\relax}{0.4pt}}}
\usepackage{titletoc}
\usepackage{textcase}
\titlecontents{chapter}[0pc]
{\addvspace {6pt}}
{\makebox [6em][l]{\textbf{Capitolo~\thecontentslabel}} \textbf}
{\textbf}{\hfill \MakeTextUppercase{\textbf{\thecontentspage }}\\
	[ -.75em]\rule{\textwidth}{.4pt}}
\titlecontents{section }[0pc]
{}
{\makebox [6em][l]{\thecontentslabel }}
{}
{\hfill \thecontentspage}